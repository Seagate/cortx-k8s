# Default values for cortx.
# This is a YAML-formatted file.

serviceAccount:
  # -- Enable the creation of a ServiceAccount for CORTX pods
  create: true
  # -- The name of the service account to use.
  # If not set and `create` is true, a name is generated using the fullname template
  name: ""
  # -- Custom annotations for the CORTX ServiceAccount
  annotations: {}
  # -- Allow auto mounting of the service account token
  automountServiceAccountToken: false

# Consul chart configuration
# ref: https://github.com/hashicorp/consul-k8s/blob/main/charts/consul/values.yaml
consul:
  # -- Enable installation of the Consul chart
  enabled: true
  ui:
    # -- Enable the Consul UI
    enabled: false
  server:
    containerSecurityContext:
      server:
        # -- Allow extra privileges in Consul server agent containers
        allowPrivilegeEscalation: false
  client:
    containerSecurityContext:
      client:
        # -- Allow extra privileges in Consul client agent containers
        allowPrivilegeEscalation: false

# Kafka chart configuration
# ref: https://github.com/bitnami/charts/blob/master/bitnami/kafka/values.yaml
kafka:
  # -- Enable installation of the Kafka chart
  enabled: true
  serviceAccount:
    # -- Enable the creation of a ServiceAccount for Kafka pods
    create: true
    # -- Allow auto mounting of the service account token
    automountServiceAccountToken: false
  containerSecurityContext:
    # -- Allow extra privileges in Kafka containers
    allowPrivilegeEscalation: false
  # -- Enable topic deletion
  deleteTopicEnable: true
  # -- Overridden min.insync.replicas config for the transaction topic
  transactionStateLogMinIsr: 2

  # ZooKeeper chart configuration
  # ref: https://github.com/bitnami/charts/blob/master/bitnami/zookeeper/values.yaml
  zookeeper:
    # -- Enable installation of the Zookeeper chart
    enabled: true
    serviceAccount:
      # -- Enable the creation of a ServiceAccount for Zookeeper pods
      create: true
      # -- Allow auto mounting of the service account token
      automountServiceAccountToken: false
    containerSecurityContext:
      # -- Allow extra privileges in Zookeeper containers
      allowPrivilegeEscalation: false
